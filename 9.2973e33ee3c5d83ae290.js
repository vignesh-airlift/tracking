(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{X3zk:function(t,e,n){"use strict";n.r(e),n.d(e,"LoginModule",(function(){return D}));var i=n("ofXK"),o=n("tyNb"),c=n("R0Ic"),r=n("3Pt+"),s=n("fXoL"),l=n("0IaG"),a=n("gbi4"),g=n("bSwM"),d=n("bTqV"),f=n("kmnG"),u=n("qFsG"),p=n("NFeN");function m(t,e){if(1&t){const t=s.hc();s.gc(0,"input",3),s.nc("keydown",(function(e){return s.Ic(t),s.rc(2).onKeyDown(e)}))("keyup",(function(n){s.Ic(t);const i=e.index;return s.rc(2).onKeyUp(n,i)})),s.fc()}if(2&t){const t=e.$implicit,n=e.index,i=s.rc(2);s.Rb("otp-input ",i.config.inputClass,""),s.Ac("id","otp_",n,"_",i.componentKey,""),s.xc("pattern",i.config.allowNumbersOnly?"\\d*":"")("type",i.inputType)("placeholder",(null==i.config?null:i.config.placeholder)||"")("disabledNumberOnly",!i.config.allowNumbersOnly)("ngStyle",i.config.inputStyles)("formControl",i.otpForm.controls[t])}}function h(t,e){if(1&t&&(s.gc(0,"div",1),s.Rc(1,m,1,11,"input",2),s.sc(2,"keys"),s.fc()),2&t){const t=s.rc();s.Rb("wrapper ",t.config.containerClass,""),s.zc("id","c_",t.componentKey,""),s.xc("ngStyle",t.config.containerStyles),s.Ob(1),s.xc("ngForOf",s.tc(2,6,null==t.otpForm?null:t.otpForm.controls))}}let b=(()=>{class t{transform(t){return Object.keys(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Zb({name:"keys",type:t,pure:!0}),t})(),v=(()=>{class t{constructor(t){this.keysPipe=t,this.config={length:4},this.onInputChange=new s.r,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}ngOnInit(){this.otpForm=new r.h({});for(let t=0;t<this.config.length;t++)this.otpForm.addControl(this.getControlName(t),new r.e);this.inputType=this.getInputType()}ngAfterViewInit(){if(!this.config.disableAutoFocus){const t=document.getElementById("c_"+this.componentKey);if(t){t.addEventListener("paste",t=>this.handlePaste(t));const e=t.getElementsByClassName("otp-input")[0];e&&e.focus&&e.focus()}}}getControlName(t){return"ctrl_"+t}ifLeftArrow(t){return this.ifKeyCode(t,37)}ifRightArrow(t){return this.ifKeyCode(t,39)}ifBackspaceOrDelete(t){return"Backspace"===t.key||"Delete"===t.key||this.ifKeyCode(t,8)||this.ifKeyCode(t,46)}ifKeyCode(t,e){return(t.keyCode||t.charCode)==e}onKeyDown(t){if(this.ifKeyCode(t,32))return!1}onKeyUp(t,e){const n=this.appendKey("otp_"+(e+1)),i=this.appendKey("otp_"+(e-1));if(this.ifRightArrow(t))this.setSelected(n);else{if(!this.ifLeftArrow(t))return this.ifBackspaceOrDelete(t)&&!t.target.value?(this.setSelected(i),void this.rebuildValue()):void(t.target.value&&(this.ifValidEntry(t)&&this.setSelected(n),this.rebuildValue()));this.setSelected(i)}}appendKey(t){return`${t}_${this.componentKey}`}setSelected(t){this.focusTo(t);const e=document.getElementById(t);e&&e.setSelectionRange&&setTimeout(()=>{e.setSelectionRange(0,1)},0)}ifValidEntry(t){const e=String.fromCharCode(t.keyCode);return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(e)||this.config.allowKeyCodes&&this.config.allowKeyCodes.includes(t.keyCode)||t.keyCode>=96&&t.keyCode<=105}focusTo(t){const e=document.getElementById(t);e&&e.focus()}setValue(t){if(!this.config.allowNumbersOnly||!isNaN(t))if(this.otpForm.reset(),t){if(t=t.toString().replace(/\s/g,""),Array.from(t).forEach((t,e)=>{this.otpForm.get(this.getControlName(e))&&this.otpForm.get(this.getControlName(e)).setValue(t)}),!this.config.disableAutoFocus){const n=document.getElementById("c_"+this.componentKey);var e=t.length<this.config.length?t.length:this.config.length-1;let i=n.getElementsByClassName("otp-input")[e];i&&i.focus&&i.focus()}this.rebuildValue()}else this.rebuildValue()}rebuildValue(){let t="";this.keysPipe.transform(this.otpForm.controls).forEach(e=>{this.otpForm.controls[e].value&&(t+=this.otpForm.controls[e].value)}),this.onInputChange.emit(t)}getInputType(){return this.config.isPasswordInput?"password":this.config.allowNumbersOnly?"tel":"text"}handlePaste(t){let e=t.clipboardData||window.clipboardData;if(e)var n=e.getData("Text");t.stopPropagation(),t.preventDefault(),n&&this.setValue(n)}}return t.\u0275fac=function(e){return new(e||t)(s.ac(b))},t.\u0275cmp=s.Ub({type:t,selectors:[["ng-otp-input"]],inputs:{config:"config"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["numberOnly","","maxlength","1","autocomplete","off",3,"pattern","type","placeholder","disabledNumberOnly","ngStyle","class","formControl","id","keydown","keyup",4,"ngFor","ngForOf"],["numberOnly","","maxlength","1","autocomplete","off",3,"pattern","type","placeholder","disabledNumberOnly","ngStyle","formControl","id","keydown","keyup"]],template:function(t,e){1&t&&s.Rc(0,h,3,8,"div",0),2&t&&s.xc("ngIf",null==e.otpForm?null:e.otpForm.controls)},directives:function(){return[i.k,i.l,i.j,r.c,y,r.k,r.t,r.o,r.f]},pipes:function(){return[b]},styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:1px solid #c5c5c5;text-align:center;font-size:32px}.wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width:767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width:420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),t})(),y=(()=>{class t{constructor(t,e){this._elRef=t,this._renderer=e}ngOnInit(){this.disabledNumberOnly||this._renderer.setAttribute(this._elRef.nativeElement,"onkeypress","return (event.charCode >= 48 && event.charCode <= 57) || event.charCode == 0")}}return t.\u0275fac=function(e){return new(e||t)(s.ac(s.o),s.ac(s.Q))},t.\u0275dir=s.Vb({type:t,selectors:[["","numberOnly",""]],inputs:{disabledNumberOnly:"disabledNumberOnly"}}),t})(),x=(()=>{class t{}return t.\u0275mod=s.Yb({type:t}),t.\u0275inj=s.Xb({factory:function(e){return new(e||t)},providers:[b],imports:[[i.c,r.j,r.u]]}),t})();function w(t,e){if(1&t&&s.bc(0,"img",25),2&t){const t=s.rc();s.xc("src",t.current,s.Kc)}}function O(t,e){1&t&&(s.gc(0,"div",26),s.Tc(1," Enter valid User Id "),s.fc())}function C(t,e){1&t&&(s.gc(0,"div",26),s.Tc(1," Enter valid Password "),s.fc())}function _(t,e){if(1&t&&(s.gc(0,"div",26),s.Tc(1),s.fc()),2&t){const t=s.rc();s.Ob(1),s.Vc(" ",t.errorText," ")}}const P=function(){return{standalone:!0}};function k(t,e){1&t&&(s.gc(0,"div"),s.gc(1,"div",5),s.Tc(2," Forgot Password? "),s.fc(),s.gc(3,"div",6),s.bc(4,"img",7),s.fc(),s.gc(5,"div",8),s.Tc(6," Enter the email address associated with your account. "),s.fc(),s.gc(7,"div",9),s.Tc(8," We will send your manager/admin a link to reset your password "),s.fc(),s.gc(9,"mat-form-field",10),s.gc(10,"mat-label"),s.Tc(11,"Enter Email Address "),s.fc(),s.bc(12,"input",11),s.gc(13,"mat-icon",12),s.Tc(14,"arrow_forward"),s.fc(),s.fc(),s.fc()),2&t&&s.xc("@myAnimation",void 0)}function M(t,e){if(1&t&&(s.gc(0,"div"),s.gc(1,"div",5),s.Tc(2," Email Sent "),s.fc(),s.gc(3,"div",6),s.bc(4,"img",13),s.fc(),s.gc(5,"div",8),s.Tc(6," Enter the verification code we just sent you on your email address. "),s.fc(),s.gc(7,"div",6),s.Tc(8),s.fc(),s.fc()),2&t){const t=s.rc();s.xc("@myAnimation",void 0),s.Ob(8),s.Vc(" ",t.email," ")}}const I=function(t){return{"active-circle":t}},T=".airlift-logo[_ngcontent-%COMP%]{position:relative;left:-18px;width:175px;height:75px;margin:50px 0 30px}.airlift-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.welcome-text[_ngcontent-%COMP%]{height:60px;color:var(--black);display:flex;align-items:center}.back-text[_ngcontent-%COMP%]{color:var(--blue);padding:0 4px}.mail-icon[_ngcontent-%COMP%]{position:relative;top:5px}.container[_ngcontent-%COMP%]{width:100%;height:100%}.img[_ngcontent-%COMP%]{width:100%}.field-90[_ngcontent-%COMP%]{width:90%;height:60px;border:none;border-bottom:1px solid #d6d6d6;outline:none}.field-90[_ngcontent-%COMP%]:focus{border-bottom:1px solid var(--blue);box-shadow:0 4px 4px -4px var(--blue)}.field-margin[_ngcontent-%COMP%]{margin:10px 0}.visible-icon[_ngcontent-%COMP%]{position:relative;right:30px;color:var(--blue)}.login-btn[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #d4d9e2;background-image:linear-gradient(351deg,#1e8fe1 97%,#7bbae6 0)}.margin-container[_ngcontent-%COMP%]{margin:40px 0 15px;padding-left:15px}.color-greyish[_ngcontent-%COMP%]{color:var(--greyish)}.forgot-pwd[_ngcontent-%COMP%]{text-align:right}.login-form[_ngcontent-%COMP%]{margin:10px 0;width:75%}.field-space[_ngcontent-%COMP%]{margin:30px 0 10px}.forgot-title[_ngcontent-%COMP%]{font-size:25px}.email-text[_ngcontent-%COMP%], .forgot-title[_ngcontent-%COMP%]{color:var(--dark);text-align:center}.email-text[_ngcontent-%COMP%]{margin:10px auto;width:48%}.link-text[_ngcontent-%COMP%]{font-size:12px;color:var(--pinkish-grey);width:52%;text-align:center;margin:10px auto}.forgot-email[_ngcontent-%COMP%]{color:#cecece;margin:0 auto;display:flex}.forgot-email[_ngcontent-%COMP%], .mat-form-field-wrapper[_ngcontent-%COMP%]   .mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{background-color:#fff}.forgot-circle[_ngcontent-%COMP%]{height:10px;width:10px;border-radius:50%;background-color:#1a1a1a;opacity:.3;margin:0 4px}.active-circle[_ngcontent-%COMP%]{background-color:var(--blue);opacity:1}.center-otp-icon[_ngcontent-%COMP%]{align-self:center;position:relative;left:16px}.forgot-footer[_ngcontent-%COMP%]{margin:5px 0}.copy-right[_ngcontent-%COMP%]{color:var(--greyish);text-align:center}.img-outer[_ngcontent-%COMP%]{width:90%;margin:auto}";function S(t,e){1&t&&(s.gc(0,"div",7),s.bc(1,"img",8),s.fc())}function E(t,e){1&t&&(s.gc(0,"div",7),s.bc(1,"img",9),s.fc())}const N=function(){return{length:6}};let F=(()=>{class t{constructor(t,e,n,i){this.fb=t,this.dialog=e,this.commonService=n,this.router=i,this.current="",this.in=0,this.img_list=["../assets/login/login-1.png","../assets/login/login-2.png","../assets/login/login-3.png","../assets/login/login-4.png"],this.remember_me=!1,this.showText=!1,this.visible="visibility",this.blueColor="primary",this.errorText="",this.isError=!1}ngOnInit(){this.loginForm=this.fb.group({email:["",[r.v.required]],password:["",[r.v.required]]}),setInterval(()=>{this.in=++this.in%this.img_list.length,this.current=this.img_list[this.in]},2e3)}rememberMe(){}tooglePwd(t){this.showText=t;const e=document.getElementById("login-pwd");t?(this.visible="visibility_off",e.setAttribute("type","text")):(this.visible="visibility",e.setAttribute("type","password"))}openForgotDialog(){this.dialog.open(A,{width:"492px",disableClose:!0}).afterClosed().subscribe(t=>{console.log("Dialog result: "+t)})}getOtp(){console.log(this.loginForm.value),this.commonService.login(this.loginForm.value).subscribe(t=>{200===(null==t?void 0:t.statusCode)&&(null==t?void 0:t.info[0])?(localStorage.getItem("user_data")&&localStorage.removeItem("user_data"),localStorage.setItem("user_data",JSON.stringify(t.info[0])),this.commonService.user_data=t.info[0],this.commonService.generateOtp(t.info[0].id).subscribe(t=>{}),this.dialog.open(R,{width:"492px",disableClose:!0}).afterClosed().subscribe(t=>{console.log("Dialog result: "+t)})):console.log("am else")},t=>{401===(null==t?void 0:t.status)&&(this.isError=!0,this.errorText="Either User Id or Password  is incorrect")})}}return t.\u0275fac=function(e){return new(e||t)(s.ac(r.d),s.ac(l.b),s.ac(a.a),s.ac(o.b))},t.\u0275cmp=s.Ub({type:t,selectors:[["app-login"]],decls:40,vars:11,consts:[[1,"d-flex","full-height"],[1,"width-60"],[1,"full-height","img-outer"],["class","img full-height",3,"src",4,"ngIf"],[1,"width-40","margin-container"],[1,"airlift-logo"],["src","../../assets/img/logo.png"],[1,"welcome-text","fw-500","f-size"],[1,"back-text"],[1,"d-flex-wrap","login-form",3,"formGroup"],[1,"fw-500","field-space"],[1,"material-icons","mail-icon"],[1,"field-margin"],["type","text","formControlName","email","placeholder","Enter your User Id",1,"field-90",3,"input"],["class","error-class ",4,"ngIf"],["id","login-pwd","type","password","formControlName","password","placeholder","Enter your Password",1,"field-90",3,"input"],[1,"material-icons","visible-icon",3,"click"],["visibility",""],["class","error-class",4,"ngIf"],[1,"d-flex","color-greyish","font-14","field-space"],[1,"example-margin","width-40",3,"color","ngModel","ngModelOptions","change","ngModelChange"],[1,"width-50","forgot-pwd"],[1,"cursor-pointer",3,"click"],["mat-raised-button","","color","primary",1,"field-margin","field-90","login-btn","field-space",3,"disabled","click"],[1,"copy-right","width-60","font-10"],[1,"img","full-height",3,"src"],[1,"error-class"]],template:function(t,e){1&t&&(s.gc(0,"div",0),s.gc(1,"div",1),s.gc(2,"div",2),s.Rc(3,w,1,1,"img",3),s.fc(),s.fc(),s.gc(4,"div",4),s.gc(5,"div",5),s.bc(6,"img",6),s.fc(),s.gc(7,"div",7),s.Tc(8," Hey there! Welcome "),s.gc(9,"span",8),s.Tc(10," Back."),s.fc(),s.fc(),s.gc(11,"form",9),s.gc(12,"div",10),s.gc(13,"span",11),s.Tc(14," mail_outline "),s.fc(),s.Tc(15," USER ID "),s.fc(),s.gc(16,"div",12),s.gc(17,"input",13),s.nc("input",(function(){return e.isError=!1})),s.fc(),s.Rc(18,O,2,0,"div",14),s.fc(),s.gc(19,"div",10),s.gc(20,"span",11),s.Tc(21," lock "),s.fc(),s.Tc(22," PASSWORD "),s.fc(),s.gc(23,"div",12),s.gc(24,"input",15),s.nc("input",(function(){return e.isError=!1})),s.fc(),s.gc(25,"span",16,17),s.nc("click",(function(){return e.tooglePwd(!e.showText)})),s.Tc(27),s.fc(),s.Rc(28,C,2,0,"div",18),s.fc(),s.gc(29,"div",19),s.gc(30,"mat-checkbox",20),s.nc("change",(function(){return e.rememberMe()}))("ngModelChange",(function(t){return e.remember_me=t})),s.Tc(31," Remember Me "),s.fc(),s.gc(32,"div",21),s.gc(33,"span",22),s.nc("click",(function(){return e.openForgotDialog()})),s.Tc(34," Forgot Password? "),s.fc(),s.fc(),s.fc(),s.Rc(35,_,2,1,"div",18),s.gc(36,"button",23),s.nc("click",(function(){return e.getOtp()})),s.Tc(37,"Login"),s.fc(),s.fc(),s.gc(38,"div",24),s.Tc(39," Copyright \xa9 2020 Airlift USA INC. All rights reserved. "),s.fc(),s.fc(),s.fc()),2&t&&(s.Ob(3),s.xc("ngIf",e.current),s.Ob(8),s.xc("formGroup",e.loginForm),s.Ob(7),s.xc("ngIf","INVALID"==e.loginForm.controls.email.status&&e.loginForm.controls.email.touched),s.Ob(9),s.Vc(" ",e.visible," "),s.Ob(1),s.xc("ngIf","INVALID"==e.loginForm.controls.password.status&&e.loginForm.controls.password.touched),s.Ob(2),s.xc("color",e.blueColor)("ngModel",e.remember_me)("ngModelOptions",s.Bc(10,P)),s.Ob(5),s.xc("ngIf",e.isError),s.Ob(1),s.xc("disabled",!e.loginForm.valid))},directives:[i.k,r.w,r.p,r.i,r.c,r.o,r.g,g.a,r.r,d.a],styles:[T]}),t})(),A=(()=>{class t{constructor(){this.currentNav="email",this.email="surya@airliftusa.com".replace("(?=.*@)/","*")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Ub({type:t,selectors:[["forgot-dialog"]],decls:9,vars:9,consts:[[1,"d-flex","justify-end"],[1,"material-icons","cursor-pointer",3,"mat-dialog-close"],[4,"ngIf"],[1,"d-flex","forgot-footer","justify-center"],[1,"forgot-circle","cursor-pointer",3,"ngClass","click"],[1,"forgot-title","fw-500"],[1,"d-flex","justify-center"],["src","../../assets/login-svg/Airlift-Doubt.svg"],[1,"email-text"],[1,"link-text"],[1,"forgot-email","d-flex","width-50"],["matInput","","type","text"],["matSuffix",""],["src","../../assets/login-svg/Airlift-Happy.svg"]],template:function(t,e){1&t&&(s.gc(0,"div"),s.gc(1,"div",0),s.gc(2,"span",1),s.Tc(3," close "),s.fc(),s.fc(),s.Rc(4,k,15,1,"div",2),s.Rc(5,M,9,2,"div",2),s.gc(6,"div",3),s.gc(7,"div",4),s.nc("click",(function(){return e.currentNav="email"})),s.fc(),s.gc(8,"div",4),s.nc("click",(function(){return e.currentNav="emailSent"})),s.fc(),s.fc(),s.fc()),2&t&&(s.Ob(2),s.xc("mat-dialog-close",!0),s.Ob(2),s.xc("ngIf","email"===e.currentNav),s.Ob(1),s.xc("ngIf","emailSent"===e.currentNav),s.Ob(2),s.xc("ngClass",s.Cc(5,I,"email"===e.currentNav)),s.Ob(1),s.xc("ngClass",s.Cc(7,I,"emailSent"===e.currentNav)))},directives:[l.d,i.k,i.i,f.b,f.e,u.b,p.a,f.f],styles:[T],data:{animation:[Object(c.n)("myAnimation",[Object(c.m)(":enter",[Object(c.l)({opacity:0}),Object(c.e)("800ms",Object(c.l)({opacity:1}))])])]}}),t})(),R=(()=>{class t{constructor(t,e,n){var i,o;this.dialogRef=t,this.commonService=e,this.router=n,this.currentNav="email",this.email="",this.otpLength=!1,this.otpError=!1,this.email=(null===(i=this.commonService.user_data)||void 0===i?void 0:i.email)?null===(o=e.user_data)||void 0===o?void 0:o.email.replace("(?=.*@)/","*"):""}onOtpChange(t){var e;console.log(t,"event"),6===(null==t?void 0:t.length)?this.commonService.verifyOtp(null===(e=this.commonService.user_data)||void 0===e?void 0:e.id,t).subscribe(t=>{200===(null==t?void 0:t.statusCode)&&(this.otpLength=!0,this.dialogRef.close(!0),this.dialogRef.afterClosed().subscribe(t=>{this.router.navigate(["/dashboard"])}))},t=>{401===(null==t?void 0:t.status)&&(this.otpError=!0)}):(this.otpLength=!1,this.otpError=!1)}}return t.\u0275fac=function(e){return new(e||t)(s.ac(l.g),s.ac(a.a),s.ac(o.b))},t.\u0275cmp=s.Ub({type:t,selectors:[["otp-dialog"]],decls:13,vars:6,consts:[[1,"forgot-title","fw-500"],[1,"d-flex","justify-center"],["src","../../assets/login-svg/Airlift-Happy.svg"],[1,"email-text"],[1,"d-flex","justify-center",2,"margin","15px 0"],[3,"config","onInputChange"],["class","center-otp-icon",4,"ngIf"],[1,"center-otp-icon"],["src","../../assets/login-svg/OTP-Correct.svg"],["src","../../assets/login-svg/OTP Wrong.svg"]],template:function(t,e){1&t&&(s.gc(0,"div"),s.gc(1,"div",0),s.Tc(2," OTP Verification "),s.fc(),s.gc(3,"div",1),s.bc(4,"img",2),s.fc(),s.gc(5,"div",3),s.Tc(6," Enter the verification code we just sent you on your email address. "),s.fc(),s.gc(7,"div",1),s.Tc(8),s.fc(),s.gc(9,"div",4),s.gc(10,"ng-otp-input",5),s.nc("onInputChange",(function(t){return e.onOtpChange(t)})),s.fc(),s.Rc(11,S,2,0,"div",6),s.Rc(12,E,2,0,"div",6),s.fc(),s.fc()),2&t&&(s.xc("@myAnimation",void 0),s.Ob(8),s.Vc(" ",e.email," "),s.Ob(2),s.xc("config",s.Bc(5,N)),s.Ob(1),s.xc("ngIf",e.otpLength&&!e.otpError),s.Ob(1),s.xc("ngIf",e.otpError))},directives:[v,i.k],styles:[T],data:{animation:[Object(c.n)("myAnimation",[Object(c.m)(":enter",[Object(c.l)({opacity:0}),Object(c.e)("1000ms",Object(c.l)({opacity:1}))])])]}}),t})();const j=[{path:"",component:F}];let K=(()=>{class t{}return t.\u0275mod=s.Yb({type:t}),t.\u0275inj=s.Xb({factory:function(e){return new(e||t)},imports:[[o.c.forChild(j)],o.c]}),t})();var V=n("d3UM");let D=(()=>{class t{}return t.\u0275mod=s.Yb({type:t}),t.\u0275inj=s.Xb({factory:function(e){return new(e||t)},imports:[[i.c,K,r.j,r.u,g.b,d.b,l.f,p.b,f.d,u.c,V.b,x]]}),t})()}}]);